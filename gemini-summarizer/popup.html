<!DOCTYPE html>
<html>

<head>
    <title>Gemini Tab Summarizer</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <h1>Gemini Tab Summarizer</h1>

        <div id="api-key-section">
            <label for="gemini-api-key">Gemini API Key:</label>
            <input type="password" id="gemini-api-key" placeholder="Enter your Gemini API key">
            <button id="save-api-key">Save</button>
            <p class="info">Get your API key from <a href="https://ai.google.dev/" target="_blank">Google AI Studio</a>
            </p>
        </div>

        <div id="notion-key-section">
            <label for="notion-api-key">Notion API Key:</label>
            <div class="input-group">
                <input type="password" id="notion-api-key" placeholder="Enter your Notion API key">
                <button id="save-notion-api-key">Save</button>
            </div>

            <label for="notion-database-id">Notion Database ID:</label>
            <div class="input-group">
                <input type="text" id="notion-database-id" placeholder="Enter your Notion database ID">
                <button id="save-notion-database-id">Save</button>
            </div>

            <p class="info">Get your API key from <a href="https://www.notion.so/my-integrations" target="_blank">Notion
                    Integrations</a></p>
        </div>

        <div id="summary-section" style="display: none;">
            <button id="summarize-btn">Summarize Current Tab</button>
            <!-- New button for Weekly Recap -->
            <button id="weekly-recap-btn" class="secondary-btn">Generate Weekly Recap</button>
            <div id="loading" style="display: none;">
                <div class="spinner"></div>
            </div>
            <div id="status-message"></div>

            <!-- Summary display area -->
            <div id="summary-display" style="display: none;">
                <div class="summary-header">
                    <h2>Summary</h2>
                    <div class="copy-status" id="copy-status"></div>
                </div>
                <div class="summary-content-wrapper">
                    <div id="summary-content" class="summary-content"></div>
                </div>
                <div class="button-row">
                    <button id="copy-btn">Copy to Clipboard</button>
                    <button id="save-to-notion-btn">Save to Notion</button>
                </div>
                <div id="notion-setup" style="display: none;">
                    <p>To save to Notion, you need to configure your Notion API key.</p>
                    <button id="setup-notion-btn">Setup Notion</button>
                </div>
            </div>

            <!-- Weekly Recap display area -->
            <div id="weekly-recap-display" style="display: none;">
                <div class="summary-header">
                    <h2>Weekly Recap</h2>
                    <div class="recap-copy-status" id="recap-copy-status"></div>
                </div>
                <div class="summary-content-wrapper">
                    <div id="recap-content" class="summary-content"></div>
                </div>
            </div>
        </div>
    </div>
    <script src="popup.js" type="module"></script>
</body>

</html>